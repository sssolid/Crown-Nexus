app.domains.media.service.thumbnails
====================================

.. py:module:: app.domains.media.service.thumbnails

.. autoapi-nested-parse::

   Thumbnail generation utilities.

   This module provides utilities for generating thumbnails from image files,
   designed to be used by different storage backend implementations.



Attributes
----------

.. autoapisummary::

   app.domains.media.service.thumbnails.logger


Classes
-------

.. autoapisummary::

   app.domains.media.service.thumbnails.ThumbnailGenerator


Module Contents
---------------

.. py:data:: logger

.. py:class:: ThumbnailGenerator

   Utility class for generating thumbnails from images.


   .. py:method:: generate_thumbnail(file_path, output_path, width = 200, height = 200, quality = 90)
      :staticmethod:

      :async:


      Generate a thumbnail for an image file.

      Args:
          file_path: Path to the original image
          output_path: Path where the thumbnail should be saved
          width: Desired thumbnail width
          height: Desired thumbnail height
          quality: JPEG quality (1-100)

      Raises:
          FileNotFoundError: If the original file doesn't exist
          MediaStorageError: If thumbnail generation fails



   .. py:method:: _generate_thumbnail_sync(file_path, output_path, width, height, quality)
      :staticmethod:


      Generate a thumbnail synchronously (to be run in a thread pool).

      Args:
          file_path: Path to the original image
          output_path: Path where the thumbnail should be saved
          width: Desired thumbnail width
          height: Desired thumbnail height
          quality: JPEG quality (1-100)

      Raises:
          MediaStorageError: If thumbnail generation fails



   .. py:method:: get_supported_formats()
      :staticmethod:


      Get a list of supported image formats for thumbnail generation.

      Returns:
          Tuple of supported file extensions (lowercase, with dot)



   .. py:method:: can_generate_thumbnail(file_path)
      :staticmethod:


      Check if a thumbnail can be generated for a file based on its extension.

      Args:
          file_path: Path to the file

      Returns:
          bool: True if a thumbnail can be generated, False otherwise



   .. py:method:: get_thumbnail_path(original_path, width = 200, height = 200, thumbnails_dir = 'thumbnails')
      :staticmethod:


      Get the path where a thumbnail should be stored.

      Args:
          original_path: Path to the original image
          width: Thumbnail width
          height: Thumbnail height
          thumbnails_dir: Directory for storing thumbnails

      Returns:
          str: Path to the thumbnail



