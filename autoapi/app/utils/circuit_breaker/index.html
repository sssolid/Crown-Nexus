

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>app.utils.circuit_breaker &mdash; Crown Nexus 0.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/graphviz.css?v=4ae1632d" />

  
      <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../../_static/documentation_options.js?v=01f34227"></script>
      <script src="../../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="app.utils.crypto" href="../crypto/index.html" />
    <link rel="prev" title="app.utils" href="../index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            Crown Nexus
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_guide.html">Developer’s Guide: Logging, Error Handling, Dependency Management, Validation, and Metrics Systems</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">app</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../../index.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../api/index.html">app.api</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../commands/index.html">app.commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../core/index.html">app.core</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../data_import/index.html">app.data_import</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../db/index.html">app.db</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../domains/index.html">app.domains</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../fitment/index.html">app.fitment</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../logging/index.html">app.logging</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../main/index.html">app.main</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../middleware/index.html">app.middleware</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../models/index.html">app.models</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../repositories/index.html">app.repositories</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../schemas/index.html">app.schemas</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../services/index.html">app.services</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tasks/index.html">app.tasks</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../index.html">app.utils</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Crown Nexus</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">API Reference</a></li>
          <li class="breadcrumb-item"><a href="../../index.html">app</a></li>
          <li class="breadcrumb-item"><a href="../index.html">app.utils</a></li>
      <li class="breadcrumb-item active">app.utils.circuit_breaker</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/autoapi/app/utils/circuit_breaker/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-app.utils.circuit_breaker">
<span id="app-utils-circuit-breaker"></span><h1>app.utils.circuit_breaker<a class="headerlink" href="#module-app.utils.circuit_breaker" title="Link to this heading"></a></h1>
<p>Circuit breaker implementation for preventing cascading failures.</p>
<p>This module implements the circuit breaker design pattern to prevent cascading failures
in distributed systems. It automatically detects failures and temporarily blocks operations
that are likely to fail, allowing the failing component to recover.</p>
<p>Features include:
- Configurable failure threshold, success threshold, and timeout
- Three states: CLOSED (normal), OPEN (blocking), and HALF-OPEN (testing)
- Support for both synchronous and asynchronous functions
- Registry of named circuit breakers for centralized management
- Fallback function support for graceful degradation</p>
<p>All functions include proper error handling, logging, and state management to ensure
system resilience and fail gracefully when downstream services are unavailable.</p>
<section id="attributes">
<h2>Attributes<a class="headerlink" href="#attributes" title="Link to this heading"></a></h2>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#app.utils.circuit_breaker.logger" title="app.utils.circuit_breaker.logger"><code class="xref py py-obj docutils literal notranslate"><span class="pre">logger</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#app.utils.circuit_breaker.F" title="app.utils.circuit_breaker.F"><code class="xref py py-obj docutils literal notranslate"><span class="pre">F</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#app.utils.circuit_breaker.T" title="app.utils.circuit_breaker.T"><code class="xref py py-obj docutils literal notranslate"><span class="pre">T</span></code></a></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</section>
<section id="classes">
<h2>Classes<a class="headerlink" href="#classes" title="Link to this heading"></a></h2>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#app.utils.circuit_breaker.CircuitState" title="app.utils.circuit_breaker.CircuitState"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CircuitState</span></code></a></p></td>
<td><p>Possible states of a circuit breaker.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#app.utils.circuit_breaker.CircuitBreakerConfig" title="app.utils.circuit_breaker.CircuitBreakerConfig"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CircuitBreakerConfig</span></code></a></p></td>
<td><p>Configuration options for circuit breaker behavior.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#app.utils.circuit_breaker.CircuitBreaker" title="app.utils.circuit_breaker.CircuitBreaker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CircuitBreaker</span></code></a></p></td>
<td><p>Circuit breaker implementation to prevent cascading failures.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Link to this heading"></a></h2>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#app.utils.circuit_breaker.circuit_breaker" title="app.utils.circuit_breaker.circuit_breaker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">circuit_breaker</span></code></a>(name[, failure_threshold, ...])</p></td>
<td><p>Decorator factory for applying circuit breaker pattern.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Link to this heading"></a></h2>
<dl class="py data">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.logger">
<span class="sig-prename descclassname"><span class="pre">app.utils.circuit_breaker.</span></span><span class="sig-name descname"><span class="pre">logger</span></span><a class="headerlink" href="#app.utils.circuit_breaker.logger" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.F">
<span class="sig-prename descclassname"><span class="pre">app.utils.circuit_breaker.</span></span><span class="sig-name descname"><span class="pre">F</span></span><a class="headerlink" href="#app.utils.circuit_breaker.F" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.T">
<span class="sig-prename descclassname"><span class="pre">app.utils.circuit_breaker.</span></span><span class="sig-name descname"><span class="pre">T</span></span><a class="headerlink" href="#app.utils.circuit_breaker.T" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.CircuitState">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">app.utils.circuit_breaker.</span></span><span class="sig-name descname"><span class="pre">CircuitState</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#app.utils.circuit_breaker.CircuitState" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-obj docutils literal notranslate"><span class="pre">enum.Enum</span></code></p>
<p>Possible states of a circuit breaker.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.CircuitState.CLOSED">
<span class="sig-name descname"><span class="pre">CLOSED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'closed'</span></em><a class="headerlink" href="#app.utils.circuit_breaker.CircuitState.CLOSED" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.CircuitState.OPEN">
<span class="sig-name descname"><span class="pre">OPEN</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'open'</span></em><a class="headerlink" href="#app.utils.circuit_breaker.CircuitState.OPEN" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.CircuitState.HALF_OPEN">
<span class="sig-name descname"><span class="pre">HALF_OPEN</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'half_open'</span></em><a class="headerlink" href="#app.utils.circuit_breaker.CircuitState.HALF_OPEN" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.CircuitBreakerConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">app.utils.circuit_breaker.</span></span><span class="sig-name descname"><span class="pre">CircuitBreakerConfig</span></span><a class="headerlink" href="#app.utils.circuit_breaker.CircuitBreakerConfig" title="Link to this definition"></a></dt>
<dd><p>Configuration options for circuit breaker behavior.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.CircuitBreakerConfig.failure_threshold">
<span class="sig-name descname"><span class="pre">failure_threshold</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">5</span></em><a class="headerlink" href="#app.utils.circuit_breaker.CircuitBreakerConfig.failure_threshold" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.CircuitBreakerConfig.success_threshold">
<span class="sig-name descname"><span class="pre">success_threshold</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#app.utils.circuit_breaker.CircuitBreakerConfig.success_threshold" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.CircuitBreakerConfig.timeout">
<span class="sig-name descname"><span class="pre">timeout</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">60.0</span></em><a class="headerlink" href="#app.utils.circuit_breaker.CircuitBreakerConfig.timeout" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.CircuitBreakerConfig.exception_types">
<span class="sig-name descname"><span class="pre">exception_types</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><span class="pre">Exception</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#app.utils.circuit_breaker.CircuitBreakerConfig.exception_types" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.CircuitBreakerConfig.fallback">
<span class="sig-name descname"><span class="pre">fallback</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Callable</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#app.utils.circuit_breaker.CircuitBreakerConfig.fallback" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.CircuitBreaker">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">app.utils.circuit_breaker.</span></span><span class="sig-name descname"><span class="pre">CircuitBreaker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#app.utils.circuit_breaker.CircuitBreaker" title="Link to this definition"></a></dt>
<dd><p>Circuit breaker implementation to prevent cascading failures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>)</p></li>
<li><p><strong>config</strong> (<em>Optional</em><em>[</em><a class="reference internal" href="#app.utils.circuit_breaker.CircuitBreakerConfig" title="app.utils.circuit_breaker.CircuitBreakerConfig"><em>CircuitBreakerConfig</em></a><em>]</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.CircuitBreaker._breakers">
<span class="sig-name descname"><span class="pre">_breakers</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#app.utils.circuit_breaker.CircuitBreaker" title="app.utils.circuit_breaker.CircuitBreaker"><span class="pre">CircuitBreaker</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#app.utils.circuit_breaker.CircuitBreaker._breakers" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.CircuitBreaker._lock">
<span class="sig-name descname"><span class="pre">_lock</span></span><a class="headerlink" href="#app.utils.circuit_breaker.CircuitBreaker._lock" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.CircuitBreaker.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#app.utils.circuit_breaker.CircuitBreaker.name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.CircuitBreaker.config">
<span class="sig-name descname"><span class="pre">config</span></span><a class="headerlink" href="#app.utils.circuit_breaker.CircuitBreaker.config" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.CircuitBreaker.state">
<span class="sig-name descname"><span class="pre">state</span></span><a class="headerlink" href="#app.utils.circuit_breaker.CircuitBreaker.state" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.CircuitBreaker.failure_count">
<span class="sig-name descname"><span class="pre">failure_count</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#app.utils.circuit_breaker.CircuitBreaker.failure_count" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.CircuitBreaker.success_count">
<span class="sig-name descname"><span class="pre">success_count</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#app.utils.circuit_breaker.CircuitBreaker.success_count" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.CircuitBreaker.last_failure_time">
<span class="sig-name descname"><span class="pre">last_failure_time</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.0</span></em><a class="headerlink" href="#app.utils.circuit_breaker.CircuitBreaker.last_failure_time" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.CircuitBreaker.last_state_change_time">
<span class="sig-name descname"><span class="pre">last_state_change_time</span></span><a class="headerlink" href="#app.utils.circuit_breaker.CircuitBreaker.last_state_change_time" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.CircuitBreaker.get">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#app.utils.circuit_breaker.CircuitBreaker.get" title="Link to this definition"></a></dt>
<dd><p>Get an existing circuit breaker by name.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>name: Name of the circuit breaker</p>
</dd>
<dt>Returns:</dt><dd><p>CircuitBreaker: The named circuit breaker</p>
</dd>
<dt>Raises:</dt><dd><p>ValueError: If no circuit breaker with that name exists</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#app.utils.circuit_breaker.CircuitBreaker" title="app.utils.circuit_breaker.CircuitBreaker">CircuitBreaker</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.CircuitBreaker.get_or_create">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_or_create</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#app.utils.circuit_breaker.CircuitBreaker.get_or_create" title="Link to this definition"></a></dt>
<dd><p>Get an existing circuit breaker or create a new one.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>name: Name of the circuit breaker
config: Configuration options for new breaker, or None for defaults</p>
</dd>
<dt>Returns:</dt><dd><p>CircuitBreaker: The named circuit breaker</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>)</p></li>
<li><p><strong>config</strong> (<em>Optional</em><em>[</em><a class="reference internal" href="#app.utils.circuit_breaker.CircuitBreakerConfig" title="app.utils.circuit_breaker.CircuitBreakerConfig"><em>CircuitBreakerConfig</em></a><em>]</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#app.utils.circuit_breaker.CircuitBreaker" title="app.utils.circuit_breaker.CircuitBreaker">CircuitBreaker</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.CircuitBreaker.reset_all">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">reset_all</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#app.utils.circuit_breaker.CircuitBreaker.reset_all" title="Link to this definition"></a></dt>
<dd><p>Reset all circuit breakers to CLOSED state.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.CircuitBreaker.get_all_states">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_all_states</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#app.utils.circuit_breaker.CircuitBreaker.get_all_states" title="Link to this definition"></a></dt>
<dd><p>Get the current state of all circuit breakers.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>Dict[str, CircuitState]: Map of circuit breaker names to states</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, <a class="reference internal" href="#app.utils.circuit_breaker.CircuitState" title="app.utils.circuit_breaker.CircuitState">CircuitState</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.CircuitBreaker.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#app.utils.circuit_breaker.CircuitBreaker.reset" title="Link to this definition"></a></dt>
<dd><p>Reset this circuit breaker to CLOSED state.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.CircuitBreaker.check_state">
<span class="sig-name descname"><span class="pre">check_state</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#app.utils.circuit_breaker.CircuitBreaker.check_state" title="Link to this definition"></a></dt>
<dd><p>Check if circuit state should change based on time elapsed.</p>
<p>If in OPEN state and timeout has elapsed, transitions to HALF_OPEN.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.CircuitBreaker._transition_to">
<span class="sig-name descname"><span class="pre">_transition_to</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_state</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#app.utils.circuit_breaker.CircuitBreaker._transition_to" title="Link to this definition"></a></dt>
<dd><p>Transition to a new state with appropriate state reset.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>new_state: The state to transition to</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>new_state</strong> (<a class="reference internal" href="#app.utils.circuit_breaker.CircuitState" title="app.utils.circuit_breaker.CircuitState"><em>CircuitState</em></a>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.CircuitBreaker._on_success">
<span class="sig-name descname"><span class="pre">_on_success</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#app.utils.circuit_breaker.CircuitBreaker._on_success" title="Link to this definition"></a></dt>
<dd><p>Handle successful execution.</p>
<p>Increment success counter and potentially transition state.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.CircuitBreaker._on_failure">
<span class="sig-name descname"><span class="pre">_on_failure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exception</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#app.utils.circuit_breaker.CircuitBreaker._on_failure" title="Link to this definition"></a></dt>
<dd><p>Handle execution failure.</p>
<p>Update failure counter, timestamp, and potentially transition state.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>exception: The exception that occurred</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>exception</strong> (<em>Exception</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.CircuitBreaker.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#app.utils.circuit_breaker.CircuitBreaker.__call__" title="Link to this definition"></a></dt>
<dd><p>Decorate function with circuit breaker (synchronous version).</p>
<dl class="simple">
<dt>Args:</dt><dd><p>func: The function to wrap with circuit breaker</p>
</dd>
<dt>Returns:</dt><dd><p>F: Wrapped function</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>func</strong> (<em>F</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>F</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.CircuitBreaker.async_call">
<span class="sig-name descname"><span class="pre">async_call</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#app.utils.circuit_breaker.CircuitBreaker.async_call" title="Link to this definition"></a></dt>
<dd><p>Decorate async function with circuit breaker.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>func: The async function to wrap with circuit breaker</p>
</dd>
<dt>Returns:</dt><dd><p>F: Wrapped async function</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>func</strong> (<em>F</em>)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>F</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="app.utils.circuit_breaker.circuit_breaker">
<span class="sig-prename descclassname"><span class="pre">app.utils.circuit_breaker.</span></span><span class="sig-name descname"><span class="pre">circuit_breaker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">failure_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">success_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">60.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exception_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fallback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#app.utils.circuit_breaker.circuit_breaker" title="Link to this definition"></a></dt>
<dd><p>Decorator factory for applying circuit breaker pattern.</p>
<dl>
<dt>Args:</dt><dd><p>name: Unique name for the circuit breaker
failure_threshold: Number of failures before opening circuit
success_threshold: Number of successes before closing circuit
timeout: Seconds before trying again after circuit opens
exception_types: List of exception types to count as failures
fallback: Function to call when circuit is open</p>
</dd>
<dt>Returns:</dt><dd><p>Callable: Decorator function</p>
</dd>
<dt>Examples:</dt><dd><p>&#64;circuit_breaker(“payment_service”, failure_threshold=3)
def process_payment(order_id):</p>
<blockquote>
<div><p>…</p>
</div></blockquote>
<p>&#64;circuit_breaker(“user_service”, fallback=get_cached_user)
async def get_user(user_id):</p>
<blockquote>
<div><p>…</p>
</div></blockquote>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>)</p></li>
<li><p><strong>failure_threshold</strong> (<em>int</em>)</p></li>
<li><p><strong>success_threshold</strong> (<em>int</em>)</p></li>
<li><p><strong>timeout</strong> (<em>float</em>)</p></li>
<li><p><strong>exception_types</strong> (<em>Optional</em><em>[</em><em>List</em><em>[</em><em>Type</em><em>[</em><em>Exception</em><em>]</em><em>]</em><em>]</em>)</p></li>
<li><p><strong>fallback</strong> (<em>Optional</em><em>[</em><em>Callable</em><em>]</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Callable[[F], F]</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../index.html" class="btn btn-neutral float-left" title="app.utils" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../crypto/index.html" class="btn btn-neutral float-right" title="app.utils.crypto" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Ryan Serra.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>