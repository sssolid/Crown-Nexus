import{ApiService}from '../api';import{QualifierType,Language,Qualifier,QualifierDetail,QualifierSearchParams,QualifierSearchResponse,GroupNumber,QdbStats}from '@/types';export class QdbService extends ApiService{private readonly baseUrl='/autocare/qdb';async getVersion():Promise<string>{return this.get<string>(`${this.baseUrl}/version`);}async getStats():Promise<QdbStats>{return this.get<QdbStats>(`${this.baseUrl}/stats`);}async getQualifierTypes():Promise<QualifierType[]>{return this.get<QualifierType[]>(`${this.baseUrl}/qualifier-types`);}async getLanguages():Promise<Language[]>{return this.get<Language[]>(`${this.baseUrl}/languages`);}async searchQualifiers(params:QualifierSearchParams):Promise<QualifierSearchResponse>{return this.get<QualifierSearchResponse>(`${this.baseUrl}/qualifiers/search${this.buildQueryParams(params)}`);}async getQualifierDetails(qualifierId:number):Promise<QualifierDetail>{return this.get<QualifierDetail>(`${this.baseUrl}/qualifiers/${qualifierId}`);}async getGroupNumbers():Promise<GroupNumber[]>{return this.get<GroupNumber[]>(`${this.baseUrl}/groups`);}async getQualifiersByGroup(groupNumberId:number,page:number=1,pageSize:number=20):Promise<QualifierSearchResponse>{return this.get<QualifierSearchResponse>(`${this.baseUrl}/groups/${groupNumberId}/qualifiers${this.buildQueryParams({ page, page_size: pageSize })}`);}async getQualifierTranslations(qualifierId:number,languageId?:number):Promise<{id:number;language:{id:number;name:string;dialect?:string};text:string}[]>{const url=`${this.baseUrl}/qualifiers/${qualifierId}/translations`;const params=languageId?this.buildQueryParams({language_id:languageId}):'';return this.get<{id:number;language:{id:number;name:string;dialect?:string};text:string}[]>(url+params);}async getQualifierGroups(qualifierId:number):Promise<{id:number;number:{id:number;description:string}}[]>{return this.get<{id:number;number:{id:number;description:string}}[]>(`${this.baseUrl}/qualifiers/${qualifierId}/groups`);}}export const qdbService=new QdbService();export default qdbService;