import{reactive}from 'vue';import{Notification,NotificationType,NotificationPosition,NotificationOptions}from './notification.types';const DEFAULT_TIMEOUT=5000;const DEFAULT_POSITION=NotificationPosition.BOTTOM;const notifications=reactive<Notification[]>([]);let nextId=1;function createNotification(options:NotificationOptions):number{const id=options.id||nextId++;const notification:Notification={id,title:options.title||'',message:options.message,type:options.type||NotificationType.INFO,timeout:options.timeout??DEFAULT_TIMEOUT,closeable:options.closeable??true,position:options.position||DEFAULT_POSITION,showIcon:options.showIcon??true,actionText:options.actionText||'',actionColor:options.actionColor||'primary',onAction:options.onAction||(()=>{}),createdAt:new Date(),};const existingIndex=notifications.findIndex(n=>n.id===id);if(existingIndex!==-1){notifications.splice(existingIndex,1,notification);}else{notifications.push(notification);}if(notification.timeout>0){setTimeout(()=>removeNotification(id),notification.timeout);}return id;}function removeNotification(id:number):void{const index=notifications.findIndex(n=>n.id===id);if(index!==-1){notifications.splice(index,1);}}function getNotifications():Notification[]{return notifications;}function success(message:string,options:Partial<NotificationOptions>={}):number{return createNotification({message,type:NotificationType.SUCCESS,...options,});}function error(message:string,options:Partial<NotificationOptions>={}):number{return createNotification({message,type:NotificationType.ERROR,...options,});}function warning(message:string,options:Partial<NotificationOptions>={}):number{return createNotification({message,type:NotificationType.WARNING,...options,});}function info(message:string,options:Partial<NotificationOptions>={}):number{return createNotification({message,type:NotificationType.INFO,...options,});}function prompt(message:string,actionText:string,onAction:()=>void,options:Partial<NotificationOptions>={}):number{return createNotification({message,actionText,onAction,timeout:0,...options,});}function clearAll():void{notifications.splice(0,notifications.length);}export const notificationService={success,error,warning,info,prompt,create:createNotification,remove:removeNotification,getAll:getNotifications,clearAll,};export default notificationService;