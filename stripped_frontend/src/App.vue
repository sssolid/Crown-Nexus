// frontend/src/App.vue <template><component :is="layout"><router-view /></component></template><script lang="ts">import{defineComponent,computed,markRaw,onMounted}from 'vue';import{useRoute}from 'vue-router';import{useAuthStore}from '@/stores/auth';import PublicLayout from '@/components/layout/PublicLayout.vue';import DashboardLayout from '@/components/layout/DashboardLayout.vue';import BlankLayout from '@/components/layout/BlankLayout.vue';export default defineComponent({name:'App',components:{PublicLayout,DashboardLayout,BlankLayout},setup(){const route=useRoute();const authStore=useAuthStore();const layout=computed(()=>{if(route.meta.layout==='blank'){return markRaw(BlankLayout);}if(route.meta.requiresAuth&&authStore.isLoggedIn){return markRaw(DashboardLayout);}return markRaw(PublicLayout);});onMounted(()=>{if(authStore.isLoggedIn&&!authStore.user){authStore.fetchUserProfile();}});return{layout};}});</script>